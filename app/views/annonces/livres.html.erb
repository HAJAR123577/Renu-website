<!-- app/views/annonces/categorie.html.erb -->
<h1 class="text-2xl font-bold mb-4 mt-16">Annonces <%= action_name.capitalize %></h1>

<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-32">
  <% @annonces.each do |annonce| %>
    <div class="bg-white p-4 rounded shadow hover:shadow-lg transition">
      <!-- Vérification de la présence de la photo -->
      <% if annonce.photo.attached? %>
        <%= image_tag annonce.photo, alt: annonce.nom_produit, class: "w-full h-48 object-cover mb-4 rounded" %>
      <% else %>
        <img src="default-image.jpg" alt="Image non disponible" class="w-full h-48 object-cover mb-4 rounded">
      <% end %>

      <!-- Affichage du nom du produit -->
      <h2 class="text-lg font-semibold mb-2"><%= annonce.nom_produit %></h2>
      
      <!-- Description du produit -->
      <p class="text-sm text-gray-600 mb-2"><%= annonce.description.truncate(100) %></p>
      
      <!-- Prix du produit -->
      <p class="font-bold text-indigo-600"><%= annonce.prix %> MAD</p>
    </div>
  <% end %>
</div>
